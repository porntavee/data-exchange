<div class="accordion">
  <div class="accordion-item" *ngFor="let tab of tabs; let i = index">
    <button class="accordion-header" (click)="toggleTab(i)">
      <div
        style="display: flex; align-items: center; justify-content: flex-start; color: white;"
      >
        <span style="margin-right: 10px;">{{ tab.header.instance }}</span>
        <span style="margin-right: 10px; color: white;"
          >CPU Avg: {{ tab.header.cpuAvg }}</span
        >
        <div [id]="'containerCPU-' + i" style="margin-top: 25px;"></div>

        <span style="margin-right: 10px; color: white;"
          >Memory Used: {{ tab.header.memoryUsed }}</span
        >

        <div [id]="'containerMemory-' + i" style="margin-top: 25px;"></div>
      </div>
    </button>
    <div class="accordion-content" *ngIf="tab.isOpen">
      <p-toast appendTo="body"></p-toast>

      <div class="row justify-content-between">
        <gridster [options]="gridOptions" style="background:none; width:100%">
          <gridster-item
            [item]="item"
            *ngFor="let item of dashboard"
            [ngClass]="{
              'theme-arya': themeService.theme === 'arya-orange',
              'theme-saga': themeService.theme === 'saga-orange',
              'gridster-card': true
            }"
          >
            <div class="card-dashboard" *ngIf="item.header == 'loadcpu'">
              <div class=" card-body pt-1">
                <div class="grid">
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                  >
                    <h5 style="margin-top: 15px; color:black">CPU Usage</h5>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loading_cpu"
                  >
                    <p-progressSpinner
                      styleClass="custom-spinner"
                    ></p-progressSpinner>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loadingcpu"
                  >
                    <p-knob
                      [(ngModel)]="valueCPU[i]"
                      [size]="150"
                      [readonly]="true"
                      [valueColor]="getTextColor(valueCPU[i])"
                      [textColor]="colortitle"
                    ></p-knob>
                  </div>
                  <div
                    class="col-12 col-sm-12 col-md-12 p-0"
                    style="text-align: center; font-weight: bold; font-size: 2rem;"
                    *ngIf="!loading_cpu && !loadingcpu"
                  >
                    No CPU data
                  </div>
                </div>
              </div>
            </div>
            <div class="card-dashboard" *ngIf="item.header == 'loaddisk'">
              <div class=" card-body pt-1">
                <div class="grid">
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                  >
                    <h5 style="margin-top: 15px; color:black">Disk Usage</h5>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loading_disk"
                  >
                    <p-progressSpinner
                      styleClass="custom-spinner"
                    ></p-progressSpinner>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loadingdisk"
                  >
                    <p-knob
                      [(ngModel)]="valueDisk"
                      [size]="150"
                      [readonly]="true"
                      [valueColor]="getTextColor(valueDisk)"
                      [textColor]="colortitle"
                    ></p-knob>
                  </div>
                  <div
                    class="col-12 col-sm-12 col-md-12 p-0"
                    style="text-align: center; font-weight: bold; font-size: 2rem;"
                    *ngIf="!loadingdisk && !loading_disk"
                  >
                    No Disk data
                  </div>
                </div>
              </div>
            </div>
            <div class="card-dashboard" *ngIf="item.header == 'loadmemory'">
              <div class=" card-body pt-1">
                <div class="grid">
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                  >
                    <h5 style="margin-top: 15px; color:black">Memory Usage</h5>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loading_memory"
                  >
                    <p-progressSpinner
                      styleClass="custom-spinner"
                    ></p-progressSpinner>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loadingmemory"
                  >
                    <p-knob
                      [(ngModel)]="valueMemory"
                      [size]="150"
                      [readonly]="true"
                      [valueColor]="getTextColor(valueMemory)"
                      [textColor]="colortitle"
                    ></p-knob>
                  </div>
                  <div
                    class="col-12 col-sm-12 col-md-12 p-0"
                    style="text-align: center; font-weight: bold; font-size: 2rem;"
                    *ngIf="!loadingmemory && !loading_memory"
                  >
                    No Memory data
                  </div>
                </div>
              </div>
            </div>
            <div class="card-dashboard" *ngIf="item.header == 'loaddiskstatus'">
              <div class=" card-body pt-1">
                <div class="grid">
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                  >
                    <h5 style="margin-top: 15px;">Disk Usage</h5>
                  </div>
                  <div
                    class="col-12 flex align-items-center justify-content-center"
                    *ngIf="loading_disk_status"
                  >
                    <p-progressSpinner
                      styleClass="custom-spinner"
                    ></p-progressSpinner>
                  </div>
                  <div class="col-12" *ngIf="loadingdisk_status">
                    <span style="color:black">"disk_status_chart_ + i"</span>
                    <div [id]="'disk_status_chart_' + i"></div>
                  </div>
                  <div
                    class="col-12 col-sm-12 col-md-12 p-0"
                    style="text-align: center; font-weight: bold; font-size: 2rem; margin-top: 10%;"
                    *ngIf="!loadingdisk_status && !loading_disk_status"
                  >
                    No Disk Usage data
                  </div>
                </div>
              </div>
            </div>
          </gridster-item>
        </gridster>
      </div>
      <!-- </div> -->
    </div>
  </div>
</div>
